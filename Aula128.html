<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Aula 128</title>
    <meta charset="UTF-8">
</head>
<body>

    <canvas id="desenho" width="500" height="500" style="border:1px solid #000">
    <h3>Este browser não tem suporte ao canvas</h3>
    </canvas>

    <script>
        var canvas=document.getElementById("desenho")
        var ctx=canvas.getContext('2d')

        let dx=0
        let dy=0
        let px=0
        let py=0
        let l_ret=a_ret=50
        let l_canvas=a_canvas=500

        function desenha()
        {
            ctx.clearRect(0,0,l_canvas,a_canvas)
            ctx.fillStyle="#f00"
            ctx.fillRect(px,py,l_ret,a_ret)


            ctx.lineWidth=3 // Largura do contorno
            ctx.stokeStyle='#000' // Estilo do contorno
            ctx.strokeRect(px,py,l_ret,a_ret) // Redenrizar o contorno - ( junto com o quadrado )

            px+=dx
            py+=dy
            if((px<=0)&&(py<=0)) // Se a posição 'X' e 'Y' estiver em 0 = Mova 'x+1'
            {
                dx=1
                dy=0
            }
            if((px+l_ret>=l_canvas)&&(py<=0)) // Se a posição 'X' estiver na largura do canvas, e o 'Y' no topo = Mova o 'y+1'
            {
                dx=0
                dy=1
            }
            if((py+a_ret>=a_canvas) && (px+l_ret>=l_canvas)) // Se a posição 'Y' estiver na altura do canvas, e o 'X' na largura = Mova o 'y-1'
            {
                dx=-1
                dy=0
            }
            if((py+a_ret>=a_canvas) && (px<=0)) // Se a posição 'Y' estiver na altura do canvas, e o 'X' estiver em 0 = Mova o 'y-1'
            {
                dx=0
                dy=-1
            }
            requestAnimationFrame(desenha)
        }
        desenha()
    </script>

</body>

</html>